"use strict";var slider={checkboxes:document.querySelectorAll(".promo-slider__checkbox"),currentSlide:0,timeWait:4e3};if(0<slider.checkboxes.length)for(var autoplayPromoSlider=setInterval(function(){setSlide(slider.currentSlide+1)},slider.timeWait),i=0;i<slider.checkboxes.length;i++)slider.checkboxes[i].addEventListener("change",function(){clearInterval(autoplayPromoSlider)});function setSlide(e){e=Math.abs((e+slider.checkboxes.length)%slider.checkboxes.length);slider.checkboxes[e].checked=!0,slider.currentSlide=e}function init(){var e=new ymaps.Map("map",{center:[59.939811,30.319855],zoom:16}),t=new ymaps.Placemark([59.938652,30.323185],{},{iconLayout:"default#image",iconImageHref:"img/map-marker.png",iconImageSize:[231,190],iconImageOffset:[-47,-190]});e.geoObjects.add(t)}document.getElementById("map")&&ymaps.ready(init);var modals={wrapper:document.querySelector(".modal"),writeUs:document.querySelector(".write-us"),buttons:{close:document.querySelectorAll(".button-close")}};if(0<modals.buttons.close.length&&modals.writeUs)for(i=0;i<modals.buttons.close.length;i++)modals.buttons.close[i].addEventListener("click",function(){console.log(1),toggleShowWriteUs()});function toggleShowWriteUs(){modals.wrapper.classList.toggle("modal_hide"),modals.writeUs.classList.toggle("modal_hide")}var myForms={writeUs:{modal:document.querySelector(".write-us"),form:document.querySelector(".write-us__form"),username:document.getElementById("write-us__username"),email:document.getElementById("write-us__email"),message:document.getElementById("write-us__message")}};function validateFormWriteUs(){checkFormWriteUs()?(myForms.writeUs.modal.classList.add("site__form_invalid"),setTimeout(function(){myForms.writeUs.modal.classList.remove("site__form_invalid")},1e3)):myForms.writeUs.modal.classList.contains("site__form_invalid")&&myForms.writeUs.modal.classList.remove("site__form_invalid")}function checkFormWriteUs(){return!!(myForms.writeUs.username.classList.contains("site__input_invalid")||myForms.writeUs.email.classList.contains("site__input_invalid")||myForms.writeUs.message.classList.contains("site__input_invalid"))}function enableHightlightInputOnError(e){"email"===e.type?validateEmail(e.value)||e.classList.add("site__input_invalid"):e.value.trim()||e.classList.add("site__input_invalid")}function disableHightlightInputOnError(e){e.classList.remove("site__input_invalid")}function validateEmail(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)}function validateInput(e){e&&(e.addEventListener("blur",function(){enableHightlightInputOnError(e)}),e.addEventListener("keydown",function(){disableHightlightInputOnError(e)}))}validateInput(myForms.writeUs.username),validateInput(myForms.writeUs.email),validateInput(myForms.writeUs.message),myForms.writeUs.form&&myForms.writeUs.form.elements.buttonWriteUs.addEventListener("click",function(e){e.preventDefault(),validateFormWriteUs(),checkFormWriteUs()||myForms.writeUs.form.submit()});var range={range:document.querySelector(".range"),selected:document.querySelector(".range__selected"),handle:{min:document.querySelector(".range__handle_min"),max:document.querySelector(".range__handle_max")},input:{min:document.querySelector(".range__input_min"),max:document.querySelector(".range__input_max")},config:{minValue:0,maxValue:2e4,defaultMin:0,defaultMax:15e3}},rangeWidth=range.range.offsetWidth,rangeCoords=getCoords(range.range),distance=range.config.maxValue-range.config.minValue;function setRangeDefaultValues(){setRangeMinValue(range.config.defaultMin),setRangeMaxValue(range.config.defaultMax)}function setRangeMinValue(e){var t,n=convertValueToPixels(e);0<n?((t=convertValueToPixels(range.input.max.value))<n&&(n=t),e>convertPixelsToValue(t)&&(e=convertPixelsToValue(t)),range.selected.style.left=n+"px",range.input.min.value=e):(range.selected.style.left="0px",range.input.min.value=0)}function setRangeMaxValue(e){var t=convertValueToPixels(e),n=convertValueToPixels(range.input.min.value);t<n?(t=n,range.input.max.value=range.input.min.value):rangeWidth<t?(t=rangeWidth,range.input.max.value=range.config.maxValue):range.input.max.value=e,range.selected.style.right=rangeWidth-t+"px"}function convertValueToPixels(e){return Math.floor(e*rangeWidth/distance)}function convertPixelsToValue(e){return Math.floor(e*distance/rangeWidth)}function getCoords(e){e=e.getBoundingClientRect();return{left:e.left,right:e.right}}setRangeDefaultValues(),range.handle.min.addEventListener("mousedown",function(e){var t=e.pageX-getCoords(range.selected).left;getCoords(range.selected).right,rangeCoords.left;document.onmousemove=function(e){setRangeMinValue(convertPixelsToValue(e.pageX-t-rangeCoords.left))},document.onmouseup=function(){document.onmousemove=document.onmouseup=null},range.handle.min.ondragstart=function(){return!1}}),range.handle.max.addEventListener("mousedown",function(e){var t=e.pageX-getCoords(range.selected).right;getCoords(range.selected).left,rangeCoords.left;document.onmousemove=function(e){setRangeMaxValue(convertPixelsToValue(e.pageX-t-rangeCoords.left))},document.onmouseup=function(){document.onmousemove=document.onmouseup=null},range.handle.max.ondragstart=function(){return!1}}),range.input.min.onchange=function(){setRangeMinValue(range.input.min.value)},range.input.max.onchange=function(){setRangeMaxValue(range.input.max.value)};